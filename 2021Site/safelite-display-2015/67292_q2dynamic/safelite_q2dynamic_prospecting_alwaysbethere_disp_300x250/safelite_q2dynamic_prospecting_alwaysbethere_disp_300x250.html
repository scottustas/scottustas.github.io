<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="https://secure-ds.serving-sys.com/BurstingScript/adKit/adkit.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/plugins/CSSPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/easing/EasePack.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenLite.min.js"></script>

<script language="javascript">

	adkit.onReady(startAd);
	adkit.onReady(handleSVData);

	var imgLoadCount = 0;
	
	function startAd(){
		console.log(">> Start Ad...");
		var adBorder = document.getElementById("adBorder");
			adBorder.addEventListener("click", clickthrough);
	}
	
	function handleSVData(data) {

		console.log(">> SVData Start")
	
		var BackgroundImage = adkit.getSVData("BackgroundImage");
		var ctaText = adkit.getSVData("ctaText");	
		var ctaColor = adkit.getSVData("ctaColor");	
		
		var BackgroundElement = document.getElementById("backgroundImage");
			BackgroundElement.addEventListener("load", imgLoaded);
			BackgroundElement.src = "images/" + BackgroundImage;

		var	ctaColorElement = document.getElementById("cta").className = ctaColor;

		console.log("BackgroundImage = " + BackgroundImage);

	}
	
	function imgLoaded(){

		console.log(">> imgLoaded Start");

		imgLoadCount++;
		console.log(imgLoadCount + " image(s) loaded");
		if(imgLoadCount == 1){
			document.getElementById("adBorder").style.visibility = "visible";
			console.log("Images are loaded...display the assets!");
			
			console.log(">> imgLoaded Complete ");

			startAnimation();
		}
	}

	function clickthrough(){
		console.log("clickthrough()");
		EB.clickthrough();
	}

	function ctaOverHandler() {
 		TweenLite.set("#cta",  {scale:1.05, overwrite:true, ease:Expo.easeOut});
	}

	function ctaOutHandler() {
 		TweenLite.set("#cta",  {scale:1,  overwrite:false, ease:Expo.easeOut});
	}

	function ctaListener(){

		adBorder.addEventListener('mouseover', ctaOverHandler, false);
		adBorder.addEventListener('mouseout', ctaOutHandler, false);
	}

	function startAnimation(){

		console.log(">> Start Animation " );

		TweenLite.from("#t1", .15, {scale:0, delay:.25, ease:Linear.easeNone});

		TweenLite.from("#crackTransparent", .15, {alpha:0, delay:.35, ease:Expo.easeOut});
		TweenLite.set("#safeliteLogo", {alpha:0, delay:0, ease:Expo.easeOut});

		TweenLite.to("#barsMask", .5, {height:250,  delay:3, ease:Expo.easeIn});
		TweenLite.to("#barsMask", .5, {top:"+=200",  delay:3.5, ease:Expo.easeOut});
		TweenLite.to("#barsWipe", .5, {top:"-=200",  delay:3.5, ease:Expo.easeOut});

		TweenLite.set("#t1", {alpha:0, delay:3.5});
		TweenLite.set("#crackTransparent", {alpha:0, delay:3.5});

		TweenLite.from("#logoWhite", .01, {alpha:0, delay:3.75});
		TweenLite.from("#cta", .25, {scale:0, alpha:0, delay:3.75, ease:Back.easeOut, onComplete:ctaListener});

		TweenLite.from("#t2a", .5, {left:"+=300", delay:3.75, ease:Expo.easeOut});
		TweenLite.from("#t2b", .5, {left:"+=300", delay:3.85, ease:Expo.easeOut});
		TweenLite.from("#t2c", .5, {left:"+=300", delay:3.95, ease:Expo.easeOut});

		TweenLite.to("#t2a", .5, {left:"-=300", delay:7, ease:Expo.easeIn});
		TweenLite.to("#t2b", .5, {left:"-=300", delay:7.1, ease:Expo.easeIn});
		TweenLite.to("#t2c", .5, {left:"-=300", delay:7.2, ease:Expo.easeIn});

		TweenLite.from("#t3a", .5, {left:"+=300", delay:7.75, ease:Expo.easeOut});
		TweenLite.from("#t3b", .5, {left:"+=300", delay:7.85, ease:Expo.easeOut});
		TweenLite.from("#t3c", .5, {left:"+=300", delay:7.95, ease:Expo.easeOut});

		TweenLite.to("#t3a", .5, {left:"-=300", delay:11, ease:Expo.easeIn});
		TweenLite.to("#t3b", .5, {left:"-=300", delay:11.1, ease:Expo.easeIn});
		TweenLite.to("#t3c", .5, {left:"-=300", delay:11.2, ease:Expo.easeIn});

		TweenLite.from("#safeliteAdvantage", .5, {top:"+=25", alpha:0, delay:12, ease:Expo.easeOut});

		TweenLite.from("#t4a", .5, {top:"+=25", alpha:0, delay:12.1, ease:Expo.easeOut});
		TweenLite.from("#checkMark1", .5, {top:"+=25", alpha:0, delay:12.1, ease:Expo.easeOut});

		TweenLite.from("#t4b", .5, {top:"+=25", alpha:0, delay:12.2, ease:Expo.easeOut});
		TweenLite.from("#checkMark2", .5, {top:"+=25", alpha:0, delay:12.2, ease:Expo.easeOut});

		TweenLite.from("#t4c", .5, {top:"+=25", alpha:0, delay:12.3, ease:Expo.easeOut});
		TweenLite.from("#checkMark3", .5, {top:"+=25", alpha:0, delay:12.3, ease:Expo.easeOut});
	}

</script>

<title>safelite_q2dynamic_prospecting_alwaysbethere_disp_300x250</title>
<link href="css.css" rel="stylesheet" type="text/css" />
</head>

<body>

<div id="adBorder">

<!--  <img class="guideLayer" src="images/f1_guide.png"/> -->
<!--  <img class="guideLayer" src="images/f2_guide.png"/> -->
<!--  <img class="guideLayer" src="images/f3_guide.png"/> -->
<!--  <img class="guideLayer" src="images/f4_guide.png"/> -->
<!--  <img class="guideLayer" src="images/f5_guide.png"/> -->
<!--  <img class="guideLayer" src="images/f6_guide.png"/>-->

	<img id="backgroundImage" src="images/bckg.jpg"/>
    <img id="crackTransparent" src="images/crackTransparent.png"/>

    <img id="safeliteLogo" src="images/safeliteLogo_vert.svg"/>
    
    <div id ="t1">
    	<div id="t1a"> A cracked windshield </div>
    	<div id="t1b"> shouldn't ruin your night. </div>
    </div>

    <div id="t2a">Contact a live representative</div>
    <div id="t2b"> <b> any time. </b> </div>

    <div id="t3a">Safelite is there for you.  </div>
    <div id="t3b"><b> Day or night, 24/7. </b>  </div>

    <img id="safeliteAdvantage" src="images/safeliteAdvantage.svg"/>

    <img id="checkMark1" src="images/checkMark.png"/>
    <div id="t4a"> Always being there</div>

    <img id="checkMark2" src="images/checkMark.png"/>
    <div id="t4b"> You'll know who to expect </div> 

    <img id="checkMark3" src="images/checkMark.png"/>
    <div id="t4c"> Best replacement technology </div> 
 
	<div id="barsMask">
	    <img id="barsWipe" src="images/barsWipe.png"/>
	</div>

    <img id="logoWhite" src="images/safeliteLogoWhite_vert.svg"/>
    <div id="cta" class="xxx"> <span id="ctaText">xxxxxx</span> </div>

</div>

</body>
</html>
