<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="https://secure-ds.serving-sys.com/BurstingScript/adKit/adkit.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/plugins/CSSPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/easing/EasePack.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenLite.min.js"></script>

<script language="javascript">

	adkit.onReady(startAd);
	adkit.onReady(handleSVData);

	var imgLoadCount = 0;
	
	function startAd(){
		console.log(">> Start Ad...");
		var adBorder = document.getElementById("adBorder");
			adBorder.addEventListener("click", clickthrough);
	}
	
	function handleSVData(data) {

		console.log(">> SVData Start")
	
		var BackgroundImage = adkit.getSVData("BackgroundImage");
		var ctaText = adkit.getSVData("ctaText");	
		var ctaColor = adkit.getSVData("ctaColor");	
		
		var BackgroundElement = document.getElementById("backgroundImage");
			BackgroundElement.addEventListener("load", imgLoaded);
			BackgroundElement.src = "images/" + BackgroundImage;

		var	ctaColorElement = document.getElementById("cta").className = ctaColor;

		console.log("BackgroundImage = " + BackgroundImage);

	}
	
	function imgLoaded(){

		console.log(">> imgLoaded Start");

		imgLoadCount++;
		console.log(imgLoadCount + " image(s) loaded");
		if(imgLoadCount == 1){
			document.getElementById("adBorder").style.visibility = "visible";
			console.log("Images are loaded...display the assets!");
			
			console.log(">> imgLoaded Complete ");

			startAnimation();
		}
	}

	function clickthrough(){
		console.log("clickthrough()");
		EB.clickthrough();
	}

	function ctaOverHandler() {
 		TweenLite.set("#cta",  {scale:1.05, overwrite:true, ease:Expo.easeOut});
	}

	function ctaOutHandler() {
 		TweenLite.set("#cta",  {scale:1,  overwrite:false, ease:Expo.easeOut});
	}

	function ctaListener(){

		adBorder.addEventListener('mouseover', ctaOverHandler, false);
		adBorder.addEventListener('mouseout', ctaOutHandler, false);
	}

	function startAnimation(){

		console.log(">> Start Animation " );

		TweenLite.from("#t1", .5, {scale:0, delay:.25, ease:Expo.easeOut});

		TweenLite.from("#crackTransparent", .25, {alpha:0, delay:2.25, ease:Expo.easeOut});

		TweenLite.from("#phoneHand", .5, {rotation:-90, transformOrigin:"100% 100%", delay:3.25, ease:Expo.easeOut});

		TweenLite.to("#phoneHand", .5, {rotation:-90, transformOrigin:"100% 100%", delay:5, ease:Expo.easeInOut});

		TweenLite.to("#redBar", 1, {left:320,  delay:5, ease:Expo.easeIn});

		TweenLite.to("#t1", .5, {scale:0, delay:5, ease:Expo.easeOut});
		TweenLite.set("#crackTransparent", {alpha:0, delay:5.95});
		TweenLite.from("#guyCar", .01, {alpha:0, delay:5.95});

		TweenLite.from("#logoWhite", .01, {alpha:0, delay:5.75});

		TweenLite.from("#t2", .5, {scale:0, delay:5.75, ease:Expo.easeOut});

		TweenLite.to("#t2", .5, {scale:0, delay:9, ease:Expo.easeOut});

		TweenLite.from("#cta", .25, {scale:0, alpha:0, delay:9.75, ease:Back.easeOut, onComplete:ctaListener});

		TweenLite.from("#t3a", .5, {top:"+=25", alpha:0, delay:9.75, ease:Expo.easeOut});
		TweenLite.from("#t3b", .5, {top:"+=25", alpha:0, delay:9.85, ease:Expo.easeOut});
		TweenLite.from("#t3c", .5, {top:"+=25", alpha:0, delay:9.95, ease:Expo.easeOut});

		TweenLite.to("#t3a", .5, {alpha:0, delay:13, ease:Expo.easeIn});
		TweenLite.to("#t3b", .5, {alpha:0, delay:13, ease:Expo.easeIn});
		TweenLite.to("#t3c", .5, {alpha:0, delay:13, ease:Expo.easeIn});

		TweenLite.from("#safeliteAdvantage", .5, {top:"+=25", alpha:0, delay:14, ease:Expo.easeOut});

		TweenLite.from("#t4a", .5, {top:"+=25", alpha:0, delay:14.1, ease:Expo.easeOut});
		TweenLite.from("#checkMark1", .5, {top:"+=25", alpha:0, delay:14.1, ease:Expo.easeOut});

		TweenLite.from("#t4b", .5, {top:"+=25", alpha:0, delay:14.2, ease:Expo.easeOut});
		TweenLite.from("#checkMark2", .5, {top:"+=25", alpha:0, delay:14.2, ease:Expo.easeOut});

		TweenLite.from("#t4c", .5, {top:"+=25", alpha:0, delay:14.3, ease:Expo.easeOut});
		TweenLite.from("#checkMark3", .5, {top:"+=25", alpha:0, delay:14.3, ease:Expo.easeOut});
	}

</script>

<title>safelite_q2dynamic_prospecting_alwaysbethere_disp_728x90</title>
<link href="css.css" rel="stylesheet" type="text/css" />
</head>

<body>

<div id="adBorder">

<!--  <img class="guideLayer" src="images/f1_guide.png"/> -->
<!--  <img class="guideLayer" src="images/f2_guide.png"/> -->
<!--  <img class="guideLayer" src="images/f3_guide.png"/> -->
<!--  <img class="guideLayer" src="images/f4_guide.png"/> -->
<!--  <img class="guideLayer" src="images/f5_guide.png"/> -->
<!--  <img class="guideLayer" src="images/f6_guide.png"/> -->

	<img id="backgroundImage" src="images/bckg.jpg"/>

	<img id="crackTransparent" src="images/crackTransparent.png"/>
    <img id="guyCar" src="images/guyCar.png"/>
	<img id="redBar" src="images/redBar.png"/>
	<img id="bottomBckg" src="images/bottomBckg.png"/>
	<img id="blackBar" src="images/blackBar.png"/>

    <img id="safeliteLogo" src="images/safeliteLogo_vert.svg"/>
    
    <div id ="t1">
    	<div id="t1a"> With your car, you don't always know </div>
    	<div id="t1b"> <b> what to expect. </b> </div>
    </div>

    <img id="phoneHand" src="images/phoneHand.png"/>

    <div id ="t2">
    	<div id="t2a">But with Safelite youâ€™ll know exactly</div>
    	<div id="t2b"><b> who to expect. </b> </div>
    	<div id="t2c"></div>
    </div>

    <div id="t3a">Get notified as soon as </div>
    <div id="t3b"><b> your technician </b>  </div>
    <div id="t3c"> is on the way. </div>

    <img id="safeliteAdvantage" src="images/safeliteAdvantage.svg"/>

    <img id="checkMark1" src="images/checkMark.png"/>
    <div id="t4a"> You'll know who to expect </div>

    <img id="checkMark2" src="images/checkMark.png"/>
    <div id="t4b"> Always being there </div> 

    <img id="checkMark3" src="images/checkMark.png"/>
    <div id="t4c"> Best replacement technology </div> 

 
    <img id="logoWhite" src="images/safeliteLogoWhite_vert.svg"/>
    <div id="cta" class="xxx"> <span id="ctaText">xxxxxx</span> </div>

</div>

</body>
</html>
